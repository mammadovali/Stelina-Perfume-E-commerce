#pragma checksum "C:\Users\Əli\Desktop\Stelina e-commerce\Stelina Solution\Stelina-Perfume-E-commerce\Stelina.WebUI\Views\Shared\_BasketScriptsPartial.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "a616eb283d491fe965cb15c6de0589e6109aa67f"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Shared__BasketScriptsPartial), @"mvc.1.0.view", @"/Views/Shared/_BasketScriptsPartial.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\Əli\Desktop\Stelina e-commerce\Stelina Solution\Stelina-Perfume-E-commerce\Stelina.WebUI\Views\_ViewImports.cshtml"
using Stelina.WebUI;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Əli\Desktop\Stelina e-commerce\Stelina Solution\Stelina-Perfume-E-commerce\Stelina.WebUI\Views\_ViewImports.cshtml"
using Stelina.Domain.Models.ViewModels.ContactPostDetail;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Əli\Desktop\Stelina e-commerce\Stelina Solution\Stelina-Perfume-E-commerce\Stelina.WebUI\Views\_ViewImports.cshtml"
using Stelina.Domain.Models.Entities;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Əli\Desktop\Stelina e-commerce\Stelina Solution\Stelina-Perfume-E-commerce\Stelina.WebUI\Views\_ViewImports.cshtml"
using Stelina.Domain.AppCode.Infrastructure;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Əli\Desktop\Stelina e-commerce\Stelina Solution\Stelina-Perfume-E-commerce\Stelina.WebUI\Views\_ViewImports.cshtml"
using Stelina.Domain.AppCode.Extensions;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Əli\Desktop\Stelina e-commerce\Stelina Solution\Stelina-Perfume-E-commerce\Stelina.WebUI\Views\_ViewImports.cshtml"
using Stelina.Domain.Models.FormModel;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Əli\Desktop\Stelina e-commerce\Stelina Solution\Stelina-Perfume-E-commerce\Stelina.WebUI\Views\_ViewImports.cshtml"
using Stelina.Domain.Models.ViewModels.LoginRegister;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\Əli\Desktop\Stelina e-commerce\Stelina Solution\Stelina-Perfume-E-commerce\Stelina.WebUI\Views\_ViewImports.cshtml"
using Stelina.Domain.Models.ViewModels.BlogPostItems;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\Əli\Desktop\Stelina e-commerce\Stelina Solution\Stelina-Perfume-E-commerce\Stelina.WebUI\Views\_ViewImports.cshtml"
using Stelina.Domain.Models.ViewModels.ProductViewModel;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\Əli\Desktop\Stelina e-commerce\Stelina Solution\Stelina-Perfume-E-commerce\Stelina.WebUI\Views\_ViewImports.cshtml"
using Stelina.Domain.Models.ViewModels.Wishlist;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"a616eb283d491fe965cb15c6de0589e6109aa67f", @"/Views/Shared/_BasketScriptsPartial.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"13a25d1003d7ff6aa998f0b20336fd3dd7764559", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Shared__BasketScriptsPartial : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    #nullable disable
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/lib/sweetalert/sweetalert.min.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "a616eb283d491fe965cb15c6de0589e6109aa67f5748", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
<script>
     function removeFromBasket(element, name){
        swal(`Are you sure to delete '${name}' from your cart?`, {
          title: ""Delete"",
          text: `Are you sure to delete '${name}' from your cart?`,
          icon: ""warning"",
          buttons: true,
          dangerMode: true,
          buttons: [""No"", ""Yes""]
        })
            .then((value) => {
             if(value == true){
                 const elementData = $(element).data();
                  $.ajax({
                     url: `");
#nullable restore
#line 16 "C:\Users\Əli\Desktop\Stelina e-commerce\Stelina Solution\Stelina-Perfume-E-commerce\Stelina.WebUI\Views\Shared\_BasketScriptsPartial.cshtml"
                      Write(Url.Action("RemoveFromBasket", "Shop"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"`,
                     type: ""POST"",
                     data: elementData,
                     contentType: ""application/x-www-form-urlencoded"",
                     success: function(res){
                          console.log(res);

                         if(res.error == false){
                             const removeTarget = $(element).attr('aria-remove-target');
                             if(removeTarget != undefined){
                                 $(removeTarget).remove();
                             }
                             if(res.value?.count == null){
                                 $('.count-cart').text("""");
                             }else{
                                 $('.count-cart').text(res.value.count);
                             }
                             if(res.value?.total == null){
                                 $('.total-price').add("".Price-amount"").text("""");
                             }else{
                                 $('.tota");
            WriteLiteral(@"l-price').add("".Price-amount"").text(`${res.value.total}₼`);
                             }
                             $(""span.count-cart"").filter(function() {
                                return !$.trim(this.innerHTML);
                             }).hide();

                             
                             if(res.value == null){
                                 $('.block-minicart.stelina-mini-cart.block-header.stelina-dropdown').click(function(e) {
                                    if ($(e.target).is('a')) {
                                      e.stopPropagation();
                                    }
                                 });

                                 $("".shopcart-icon"").css('content', '');

                                 const noProductDiv = $('<div>').html('There is no product in your cart').addClass(""no-product"");

                                 $(""td.actions"").append(noProductDiv);

                                 $(""#summary"").html(""0 ₼"");");
            WriteLiteral(@"
                             }
                             
                             toastr.success(res.message);
                             return;
                         }
                         if(res.error == true){
                             toastr.error(res.message);
                         }
                     },
                     error: function(res, status, xhr){
                         //console.log(res, status, xhr);
                     }
                  });
             }
         });
    }

    function changeQuantity(event, element){
        if($.processId != undefined){
            clearTimeout($.processId);
            $.processId = undefined
        }
        if(element.value < 1){
            //console.log(""olmadikii"", element.value);
            return false;
        }
        $.processId = setTimeout(function(){
            const elementData = $(element).data();
            elementData.Quantity = element.value;
            $.ajax({
   ");
            WriteLiteral("                  url: `");
#nullable restore
#line 87 "C:\Users\Əli\Desktop\Stelina e-commerce\Stelina Solution\Stelina-Perfume-E-commerce\Stelina.WebUI\Views\Shared\_BasketScriptsPartial.cshtml"
                      Write(Url.Action("ChangeBasketQuantity", "Shop"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"`,
                     type: ""POST"",
                     data: elementData,
                     contentType: ""application/x-www-form-urlencoded"",
                     success: function(res){
                         console.log(res);
                         $(element).closest('tr').find("".amount"").text(`${res.value.total} ₼`);
                         $(""#summary"").text(`${res.value.summary} ₼`);
                         if(res.error == false){
                             if(res.value?.quantity == null){
                                 $(`.product-number-header-basket-${elementData.productId}`).text("""");
                             }else{
                                 $(`.product-number-header-basket-${elementData.productId}`).text(` (x ${res.value.quantity}) `);
                             }
                             if(res.value?.total == null){
                                 $('.total-price').add("".Price-amount"").text("""");
                             }else{
               ");
            WriteLiteral(@"                  $('.total-price').add("".Price-amount"").text(`${res.value.summary}₼`);
                             }
                             toastr.success(res.message);
                             return;
                         }
                             toastr.error(res.message);
                     },
                     error: function(res, status, xhr){
                         //console.log(res, status, xhr);
                     }
                  });
        }, 700)
    }

    function addToBasket(e){
        e.preventDefault();

        const elementData = $(e.currentTarget).data();

        $.ajax({
            url: `");
#nullable restore
#line 124 "C:\Users\Əli\Desktop\Stelina e-commerce\Stelina Solution\Stelina-Perfume-E-commerce\Stelina.WebUI\Views\Shared\_BasketScriptsPartial.cshtml"
             Write(Url.Action("Basket", "Shop"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"`,
            type: ""POST"",
            data: elementData,
            contentType: 'application/x-www-form-urlencoded',
            success: function(res){
                console.log(res);


                if(res.error == false){
                    //$(e.target).closest('tr').remove();

                    $('.add-to-cart').click(function(e) {
                        $(this).addClass('added');
                    });

                    $("".shopcart-icon"").append(`<span class='count count-cart'>${res.value.basketInfo.count}</span>`)

                    if(res.value?.basketInfo.count == null){
                        $('.count-cart').text("""");
                    }
                    else{
                        $('.count-cart').text(res.value.basketInfo.count);
                    }

                    if(res.value?.basketInfo.total == null){
                        $('.total-price').add("".Price-amount"").text("""");
                    }else{
                        $('.tota");
            WriteLiteral(@"l-price').add("".Price-amount"").text(`${res.value.basketInfo.total}₼`);
                    }

                    var newBasketProduct = `<li class='product-cart mini_cart_item basket-item-${res.value.product.productId}'>
                                                 <a class='product-media' asp-controller='shop' asp-action='details' asp-route-id='${res.value.product.productId}'>
                                                   <img src='/assets/images/${res.value.product.product.images[0].name}' alt='img' class='mCS_img_loaded'>
                                                 </a>
                                                 <div class='product-details'>
                                                     <h5 class='product-name'>
                                                         <a asp-controller='shop' asp-action='details' asp-route-id='${res.value.product.productId}'>${res.value.product.product.name}</a>
                                                     </h5>
              ");
            WriteLiteral(@"                                       <span class='product-price'>
                                                         <span class='price'>
                                                             <span>${res.value.product.product.price}₼</span>
                                                         </span>
                                                     </span>
                                                     <span class='product-quantity product-number-header-basket-2'> (x ${res.value.product.quantity}) </span>
                                                     <div class='product-remove'>
                                                         <a onclick='removeFromBasket(this, ""${res.value.product.product.name}"");return' data-product-id='${res.value.product.productId}' aria-remove-target='.basket-item-${res.value.product.productId}' style='cursor: pointer;'>
                                                             <i class='fa fa-trash-o' aria-hidden='true'></i>
      ");
            WriteLiteral(@"                                                   </a>
                                                     </div>
                                                 </div>
                                            </li>`;

                    $(""#mCSB_1_container"").append(newBasketProduct);

                    toastr.success(res.message);
                }

                if(res.error == true){
                    toastr.success(res.message);
                }
            },
            error: function(res, status, xhr){
                //console.log(res, status, xhr);
            }
        });
    }
</script>");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591
